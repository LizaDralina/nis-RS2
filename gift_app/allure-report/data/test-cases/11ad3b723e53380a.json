{"uid":"11ad3b723e53380a","name":"Test getting all recipients","fullName":"tests.test_api_endpoints.TestAPIEndpoints#test_get_all_recipients","historyId":"88b736eecab0d66baef633cfb573291d","time":{"start":1764090187708,"stop":1764090187737,"duration":29},"status":"failed","statusMessage":"AssertionError: assert 5 == 2\n +  where 5 = len([{'age': 25, 'id': 1, 'name': 'Анна', 'relation': 'friend'}, {'age': None, 'id': 2, 'name': 'Иван', 'relation': 'family'}, {'age': 30, 'id': 3, 'name': 'Олег', 'relation': 'brother'}, {'age': 25, 'id': 4, 'name': 'Анна', 'relation': 'friend'}, {'age': 30, 'id': 5, 'name': 'Иван', 'relation': 'family'}])","statusTrace":"self = <tests.test_api_endpoints.TestAPIEndpoints object at 0x764f48d5a410>\n\n    @allure.story(\"List Recipients\")\n    @allure.title(\"Test getting all recipients\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    def test_get_all_recipients(self):\n        with allure.step(\"Create multiple recipients\"):\n            client.post(\"/recipients/\", json={\"name\": \"Анна\", \"relation\": \"friend\", \"age\": 25})\n            client.post(\"/recipients/\", json={\"name\": \"Иван\", \"relation\": \"family\", \"age\": 30})\n    \n        with allure.step(\"Send GET request to /recipients/\"):\n            response = client.get(\"/recipients/\")\n    \n        with allure.step(\"Verify response status code is 200\"):\n            assert response.status_code == 200\n    \n        with allure.step(\"Verify response is a list with correct data\"):\n            recipients = response.json()\n            assert isinstance(recipients, list)\n>           assert len(recipients) == 2\nE           AssertionError: assert 5 == 2\nE            +  where 5 = len([{'age': 25, 'id': 1, 'name': 'Анна', 'relation': 'friend'}, {'age': None, 'id': 2, 'name': 'Иван', 'relation': 'family'}, {'age': 30, 'id': 3, 'name': 'Олег', 'relation': 'brother'}, {'age': 25, 'id': 4, 'name': 'Анна', 'relation': 'friend'}, {'age': 30, 'id': 5, 'name': 'Иван', 'relation': 'family'}])\n\ntests/test_api_endpoints.py:226: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1764090187557,"stop":1764090187557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 5 == 2\n +  where 5 = len([{'age': 25, 'id': 1, 'name': 'Анна', 'relation': 'friend'}, {'age': None, 'id': 2, 'name': 'Иван', 'relation': 'family'}, {'age': 30, 'id': 3, 'name': 'Олег', 'relation': 'brother'}, {'age': 25, 'id': 4, 'name': 'Анна', 'relation': 'friend'}, {'age': 30, 'id': 5, 'name': 'Иван', 'relation': 'family'}])","statusTrace":"self = <tests.test_api_endpoints.TestAPIEndpoints object at 0x764f48d5a410>\n\n    @allure.story(\"List Recipients\")\n    @allure.title(\"Test getting all recipients\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    def test_get_all_recipients(self):\n        with allure.step(\"Create multiple recipients\"):\n            client.post(\"/recipients/\", json={\"name\": \"Анна\", \"relation\": \"friend\", \"age\": 25})\n            client.post(\"/recipients/\", json={\"name\": \"Иван\", \"relation\": \"family\", \"age\": 30})\n    \n        with allure.step(\"Send GET request to /recipients/\"):\n            response = client.get(\"/recipients/\")\n    \n        with allure.step(\"Verify response status code is 200\"):\n            assert response.status_code == 200\n    \n        with allure.step(\"Verify response is a list with correct data\"):\n            recipients = response.json()\n            assert isinstance(recipients, list)\n>           assert len(recipients) == 2\nE           AssertionError: assert 5 == 2\nE            +  where 5 = len([{'age': 25, 'id': 1, 'name': 'Анна', 'relation': 'friend'}, {'age': None, 'id': 2, 'name': 'Иван', 'relation': 'family'}, {'age': 30, 'id': 3, 'name': 'Олег', 'relation': 'brother'}, {'age': 25, 'id': 4, 'name': 'Анна', 'relation': 'friend'}, {'age': 30, 'id': 5, 'name': 'Иван', 'relation': 'family'}])\n\ntests/test_api_endpoints.py:226: AssertionError","steps":[{"name":"Create multiple recipients","time":{"start":1764090187708,"stop":1764090187728,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Send GET request to /recipients/","time":{"start":1764090187728,"stop":1764090187736,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify response status code is 200","time":{"start":1764090187736,"stop":1764090187736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify response is a list with correct data","time":{"start":1764090187736,"stop":1764090187737,"duration":1},"status":"failed","statusMessage":"AssertionError: assert 5 == 2\n +  where 5 = len([{'age': 25, 'id': 1, 'name': 'Анна', 'relation': 'friend'}, {'age': None, 'id': 2, 'name': 'Иван', 'relation': 'family'}, {'age': 30, 'id': 3, 'name': 'Олег', 'relation': 'brother'}, {'age': 25, 'id': 4, 'name': 'Анна', 'relation': 'friend'}, {'age': 30, 'id': 5, 'name': 'Иван', 'relation': 'family'}])\n","statusTrace":"  File \"/home/liza/nis-RS/gift_app/tests/test_api_endpoints.py\", line 226, in test_get_all_recipients\n    assert len(recipients) == 2\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Recipients Management"},{"name":"epic","value":"Gift Helper API"},{"name":"severity","value":"critical"},{"name":"story","value":"List Recipients"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_api_endpoints"},{"name":"subSuite","value":"TestAPIEndpoints"},{"name":"host","value":"LAPTOP-KR9VGNA6"},{"name":"thread","value":"31020-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_api_endpoints"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"11ad3b723e53380a.json","parameterValues":[]}
